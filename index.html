<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Simple Doc Scanner</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family: Arial;
  background:#f2f2f2;
}
.header{
  background:#000;
  color:white;
  text-align:center;
  padding:15px;
  font-size:18px;
}
.container{
  padding:15px;
}
input, button{
  width:100%;
  padding:12px;
  margin-top:10px;
  font-size:16px;
}
button{
  background:black;
  color:white;
  border:none;
}
.preview{
  margin-top:15px;
  text-align:center;
}
.preview img{
  max-width:100%;
  border-radius:8px;
}
</style>
</head>

<body>

<div class="header">
Simple Doc Scanner
</div>

<div class="container">

<input type="text" id="name" placeholder="Enter Your Name">

<input type="file" id="imageInput" accept="image/*">

<div class="preview">
<img id="previewImg" style="display:none;">
</div>

<button onclick="generatePDF()">Download PDF</button>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>

let uploadedImage = "";

document.getElementById("imageInput").addEventListener("change", function(event){
  const file = event.target.files[0];
  const reader = new FileReader();

  reader.onload = function(e){
    uploadedImage = e.target.result;
    const img = document.getElementById("previewImg");
    img.src = uploadedImage;
    img.style.display = "block";
  }

  if(file){
    reader.readAsDataURL(file);
  }
});

function generatePDF(){
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF('p', 'mm', 'a4');

  let name = document.getElementById("name").value;

  if(uploadedImage){

    let img = new Image();
    img.src = uploadedImage;

    img.onload = function(){

      let pageWidth = doc.internal.pageSize.getWidth();
      let pageHeight = doc.internal.pageSize.getHeight();

      let imgWidth = img.width;
      let imgHeight = img.height;

      let ratio = Math.min(pageWidth / imgWidth, pageHeight / imgHeight);

      let newWidth = imgWidth * ratio;
      let newHeight = imgHeight * ratio;

      let x = (pageWidth - newWidth) / 2;
      let y = (pageHeight - newHeight) / 2;

      doc.addImage(uploadedImage, 'JPEG', x, y, newWidth, newHeight);

      if(name){
        doc.setFontSize(16);
        doc.text(name, 10, 15);
      }

      doc.save("scanned-document.pdf");
    }

  } else {
    alert("Please upload an image first");
  }
}

</script>

</body>
</html>
